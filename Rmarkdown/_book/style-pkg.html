<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="style-dir.html">
<link rel="next" href="appendix.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#the-scenarios"><i class="fa fa-check"></i><b>1.1</b> The scenarios</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#some-solutions"><i class="fa fa-check"></i><b>1.2</b> Some solutions</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#reproducibility"><i class="fa fa-check"></i>Reproducibility</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#quality"><i class="fa fa-check"></i>Quality</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#efficiency"><i class="fa fa-check"></i>Efficiency</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reproducibility-1.html"><a href="reproducibility-1.html"><i class="fa fa-check"></i><b>2</b> Reproducibility</a><ul>
<li class="chapter" data-level="2.1" data-path="reproducibility-1.html"><a href="reproducibility-1.html#configuration-files"><i class="fa fa-check"></i><b>2.1</b> Configuration files</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#formats"><i class="fa fa-check"></i>Formats</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="reproducibility-1.html"><a href="reproducibility-1.html#documentation"><i class="fa fa-check"></i><b>2.2</b> Documentation</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#repositories"><i class="fa fa-check"></i>Repositories</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#code"><i class="fa fa-check"></i>Code</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#systems"><i class="fa fa-check"></i>Systems</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="reproducibility-1.html"><a href="reproducibility-1.html#git-version-control"><i class="fa fa-check"></i><b>2.3</b> Git version control</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#repository-set-up"><i class="fa fa-check"></i>Repository set-up</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#glossary"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#workflow"><i class="fa fa-check"></i>WorkFlow</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#the-dos-and-the-donts"><i class="fa fa-check"></i>The Dos and the Don’ts</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#gitignore"><i class="fa fa-check"></i>Gitignore</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#common-commands"><i class="fa fa-check"></i>Common Commands</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#vim-editor"><i class="fa fa-check"></i>VIM Editor</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="reproducibility-1.html"><a href="reproducibility-1.html#environments"><i class="fa fa-check"></i><b>2.4</b> Environments</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#using-multiple-environments"><i class="fa fa-check"></i>Using Multiple Environments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="quality-1.html"><a href="quality-1.html"><i class="fa fa-check"></i><b>3</b> Quality</a><ul>
<li class="chapter" data-level="3.1" data-path="quality-1.html"><a href="quality-1.html#testing"><i class="fa fa-check"></i><b>3.1</b> Testing</a><ul>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#best-practices"><i class="fa fa-check"></i>Best practices</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#testing-timeline"><i class="fa fa-check"></i>Testing timeline</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#types-of-tests"><i class="fa fa-check"></i>Types of tests</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#data-validation-tests"><i class="fa fa-check"></i>Data validation tests</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="quality-1.html"><a href="quality-1.html#code-review"><i class="fa fa-check"></i><b>3.2</b> Code Review</a><ul>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#review-participants"><i class="fa fa-check"></i>Review participants</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#general-tips-for-success"><i class="fa fa-check"></i>General tips for success</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="languages.html"><a href="languages.html"><i class="fa fa-check"></i><b>4</b> Languages</a><ul>
<li class="chapter" data-level="4.1" data-path="languages.html"><a href="languages.html#python-1"><i class="fa fa-check"></i><b>4.1</b> Python</a><ul>
<li class="chapter" data-level="" data-path="languages.html"><a href="languages.html#introduction-4"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="languages.html"><a href="languages.html#data-management"><i class="fa fa-check"></i>Data Management</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="style-file.html"><a href="style-file.html"><i class="fa fa-check"></i><b>5</b> style_file()</a></li>
<li class="chapter" data-level="6" data-path="style-dir.html"><a href="style-dir.html"><i class="fa fa-check"></i><b>6</b> style_dir()</a></li>
<li class="chapter" data-level="7" data-path="style-pkg.html"><a href="style-pkg.html"><i class="fa fa-check"></i><b>7</b> style_pkg()</a><ul>
<li class="chapter" data-level="7.1" data-path="style-pkg.html"><a href="style-pkg.html#you-can-add-comments-to-yaml"><i class="fa fa-check"></i><b>7.1</b> You can add comments to YAML!</a><ul>
<li class="chapter" data-level="" data-path="style-pkg.html"><a href="style-pkg.html#quality-2"><i class="fa fa-check"></i>Quality</a></li>
<li class="chapter" data-level="" data-path="style-pkg.html"><a href="style-pkg.html#efficiency-1"><i class="fa fa-check"></i>Efficiency</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#technical-terminology"><i class="fa fa-check"></i>Technical Terminology</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#resources-1"><i class="fa fa-check"></i>Resources</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#r-1"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#python-2"><i class="fa fa-check"></i>Python</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="style_pkg" class="section level1">
<h1><span class="header-section-number">7</span> style_pkg()</h1>
<pre><code>
##### lintr {-}

Warns you about styling errors and potential problems.
</code></pre>
<p>library(lintr) lintr::lint(test.R)</p>
<pre><code>

#### Debugging {-}

R offers a number of useful built-in functions for debugging, and user-contributed packages are also available to provide additional functionality. The simplest method is to insert commands into your code to print diagnostic&quot;check points&quot; during its execution, using functions such as `cat()`, `print()`, or `sink()`.

R also has a more sophisticated debugging system, which is supported by a GUI in the RStudio IDE. The most direct way to mark a function for debugging is to use `debug(functionname)`. When this function is called, normal execution will be suspended, and you will enter the `browser` display. Commands within the debugged function can then be executed one at a time, and output can be inspected by the programmer along the way. You can set a function to begin debugging partway through its execution with `setBreakpoint()` or `trace()`. If an error is encountered (whether or not the function was being debugged), the `traceback()` command can be used to view the stack of nestedfunction calls at the time of the most recent error.

We illustrate debugging in RStudio with the following example. Suppose we want to debug the `lm()` function to see how it works inside:
</code></pre>
<p>debug(lm) # mark lm() for debugging lm(speed ~ dist(data=cars))</p>
<pre><code>
A few things happen when you execute the debugged `lm()` function:

1. In the **Source** pane, a window called the **Source Viewer** opens. This
contains the code of `lm()`.
2. At the bottom of the **Environment** pane, the current stack of function
calls is listed under **Traceback**.
3. The console enters **Browser** mode. In browser mode, a set of buttons appears
along the top of the console (including **Next**, **Continue**, **Stop**, and two
arrow buttons), and the console prompt becomes `Browse[2]&gt;`.

The current location in `lm()` is indicated by the green arrow on the left side of the Source Viewer. In the above figure, the green arrow is on line 4, after the function declaration, but before any of the commands within the function have been executed. This means that all the variables that were entered (or defaulted) in the function call are available. We can enter commands at the command prompt as usual, and they will be executed in the environment of the function:

The commands of the `lm()` function are executed by clicking the button, by typing `n`+Enter, or by pressing Enter in the console. Any of these actions will execute the next command in the `lm()` code, and advance the green arrow in the Source Viewer to the next command. The other control options are:

At any point in executing the `lm()` code, you can run your own commands to look at the contents of an object created within `lm()`, for example, or check objects for errors. When you are finished debugging, exit debugging mode and then run `undebug(lm)`, so the function can be used normally without debugging.

More information on debugging in RStudio can be found [here](https://support.rstudio.com/hc/en-us/articles/205612627-Debugging-with-RStudio), or in the chapter on
[debugging](http://adv-r.had.co.nz/Exceptions-Debugging.html) in the Advanced R book. External packages such as `debug` and `edtdbg` contain alternative debugging interfaces, which are not described here.


### Data Management {-}

#### Packages {-}

|Package|   Description and Usage|
|-------------|----------------------------------|
|dplyr| Tools for manipulating data frame|
|reshape2|  Tools to reshape data frames|
|tidyr| Tools for creating &quot;tidy&quot; datasets|
|data.table|    Enhanced `data.frame` for faster operations|
|lubridate| Tools to parse and manipulate dates|
|stringr|   Tools to manipulate character strings|
|Matrix|    Sparse and dense matrix classes|
|abind| Combines multi-dimenstional arrays| 


### Modeling {-}

#### Packages

|Package|   Description and Usage|
|-------------|----------------------------------|
|survey|Analysis of complex survey samples|
|twang|Toolkit for weighting and analysis of nonequivalent groups|
|Matching|Multivariate and propensity score matching with balance|
|forecast|Forecasting functions for time series and linear models|
|boot|Functions for bootstrap analysis|
|multcomp|Tools for multiple comparison testing|
|rstan|R interface to Stan for Bayesian analysis|
|rjags|Just another Gibbs sampler in R|
|survival|Survival analysis|
|nnet|Neural networks and multinomial log-linear models|
|lme4|Linear and non-linear mixed effects models|
|nlme|Linear and non-linear mixed effects models|
|mgcv|Generalized additive models|
|refund|Regression with functional data|
|spatial|Functions for kriging and point pattern analysis|
|KernSmooth|Functions for kernel smoothing|
|lars|Least angle regression, lasso, and forward stagewise|
|glmnet|Lasso and elastic-net regression methods|
|caret|Classification and regression training|
|rpart|Recursive partitioning for classification and regression trees|
|randomForest|Random forest methods from machine learning|
|cluster|   Cluster analysis|



### Visualization {-}


### Web {-}


### Reproducibility {-}


#### Config files {-}

##### YAML {-}
</code></pre>
<div id="you-can-add-comments-to-yaml" class="section level2">
<h2><span class="header-section-number">7.1</span> You can add comments to YAML!</h2>
<p>VAR1: 1 VAR2: 2</p>
<pre><code>
###### Read in {-}
</code></pre>
<p>library(yaml) config &lt;- yaml.load_file(“path_to_config”)</p>
<p>var1 &lt;- config<span class="math inline">\(VAR1 var2 &lt;- config\)</span>VAR2</p>
<pre><code>Note: to avoid warnings make sure the config file has a final line without any indents in it!

###### Update {-}
</code></pre>
<p>library(yaml)</p>
<p>config$var3 &lt;- “VAR3” write_yaml(config, “../config.yaml”) ```</p>
<!-- ##### JSON {-} -->
<!-- ```json -->
<!-- { -->
<!-- "VAR1" = 1, -->
<!-- "VAR2" = 2 -->
<!-- } -->
<!-- ``` -->
<!-- ###### Read in {-} -->
<!-- ``` -->
<!-- library(json) -->
<!-- ``` -->
<!-- ###### Update {-} -->
<!-- ``` -->
<!-- ``` -->
<div id="csv-3" class="section level5 unnumbered">
<h5>CSV</h5>
<pre class="csv"><code>|VAR1 | VAR2|
|-----|-----|
|  1  |  2  |</code></pre>
<div id="read-in" class="section level6 unnumbered">
<h6>Read in</h6>
<pre><code>config &lt;- read.csv(&quot;path_to_config&quot;)

#OR

library(readr)

config &lt;- read_csv(&quot;path_to_config&quot;)

var1 &lt;- config$VAR1
var2 &lt;- config$VAR2
</code></pre>
</div>
<div id="update" class="section level6 unnumbered">
<h6>Update</h6>
<pre><code>config$var3 &lt;- &quot;VAR3&quot;
write.csv(config, &quot;path_to_config&quot;, row.names = FALSE)
</code></pre>
</div>
</div>
<div id="quality-2" class="section level3 unnumbered">
<h3>Quality</h3>
</div>
<div id="efficiency-1" class="section level3 unnumbered">
<h3>Efficiency</h3>
<!-- # Web -->
<!-- # Data Visualization -->
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="style-dir.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
