<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-child-5-webmain-rmd.html">
<link rel="next" href="appendix.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#the-scenarios"><i class="fa fa-check"></i><b>1.1</b> The scenarios</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#some-solutions"><i class="fa fa-check"></i><b>1.2</b> Some solutions</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#reproducibility"><i class="fa fa-check"></i>Reproducibility</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#quality"><i class="fa fa-check"></i>Quality</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#efficiency"><i class="fa fa-check"></i>Efficiency</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="reproducibility-1.html"><a href="reproducibility-1.html"><i class="fa fa-check"></i><b>2</b> Reproducibility</a><ul>
<li class="chapter" data-level="2.1" data-path="reproducibility-1.html"><a href="reproducibility-1.html#configuration-files"><i class="fa fa-check"></i><b>2.1</b> Configuration files</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-1"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#formats"><i class="fa fa-check"></i>Formats</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="reproducibility-1.html"><a href="reproducibility-1.html#documentation"><i class="fa fa-check"></i><b>2.2</b> Documentation</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#repositories"><i class="fa fa-check"></i>Repositories</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#code"><i class="fa fa-check"></i>Code</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#data"><i class="fa fa-check"></i>Data</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#systems"><i class="fa fa-check"></i>Systems</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="reproducibility-1.html"><a href="reproducibility-1.html#git-version-control"><i class="fa fa-check"></i><b>2.3</b> Git version control</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-2"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#repository-set-up"><i class="fa fa-check"></i>Repository set-up</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#glossary"><i class="fa fa-check"></i>Glossary</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#workflow"><i class="fa fa-check"></i>WorkFlow</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#the-dos-and-the-donts"><i class="fa fa-check"></i>The Dos and the Don’ts</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#gitignore"><i class="fa fa-check"></i>Gitignore</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#common-commands"><i class="fa fa-check"></i>Common Commands</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#vim-editor"><i class="fa fa-check"></i>VIM Editor</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#practice"><i class="fa fa-check"></i>Practice</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="reproducibility-1.html"><a href="reproducibility-1.html#environments"><i class="fa fa-check"></i><b>2.4</b> Environments</a><ul>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#introduction-3"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="reproducibility-1.html"><a href="reproducibility-1.html#using-multiple-environments"><i class="fa fa-check"></i>Using Multiple Environments</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="quality-1.html"><a href="quality-1.html"><i class="fa fa-check"></i><b>3</b> Quality</a><ul>
<li class="chapter" data-level="3.1" data-path="quality-1.html"><a href="quality-1.html#testing"><i class="fa fa-check"></i><b>3.1</b> Testing</a><ul>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#best-practices"><i class="fa fa-check"></i>Best practices</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#testing-timeline"><i class="fa fa-check"></i>Testing timeline</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#types-of-tests"><i class="fa fa-check"></i>Types of tests</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#data-validation-tests"><i class="fa fa-check"></i>Data validation tests</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="quality-1.html"><a href="quality-1.html#code-review"><i class="fa fa-check"></i><b>3.2</b> Code Review</a><ul>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#review-participants"><i class="fa fa-check"></i>Review participants</a></li>
<li class="chapter" data-level="" data-path="quality-1.html"><a href="quality-1.html#general-tips-for-success"><i class="fa fa-check"></i>General tips for success</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="languages.html"><a href="languages.html"><i class="fa fa-check"></i><b>4</b> Languages</a><ul>
<li class="chapter" data-level="4.1" data-path="languages.html"><a href="languages.html#python-1"><i class="fa fa-check"></i><b>4.1</b> Python</a><ul>
<li class="chapter" data-level="" data-path="languages.html"><a href="languages.html#introduction-4"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="languages.html"><a href="languages.html#data-management"><i class="fa fa-check"></i>Data Management</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="section.html"><a href="section.html"><i class="fa fa-check"></i><b>5</b> </a></li>
<li class="chapter" data-level="6" data-path="r-child-3-modelingmain-rmd.html"><a href="r-child-3-modelingmain-rmd.html"><i class="fa fa-check"></i><b>6</b> <code>{r child = &quot;3-modeling/main.Rmd&quot;} #</code></a></li>
<li class="chapter" data-level="7" data-path="section-1.html"><a href="section-1.html"><i class="fa fa-check"></i><b>7</b> </a></li>
<li class="chapter" data-level="8" data-path="r-child-4-visualizationmain-rmd.html"><a href="r-child-4-visualizationmain-rmd.html"><i class="fa fa-check"></i><b>8</b> <code>{r child = &quot;4-visualization/main.Rmd&quot;} #</code></a></li>
<li class="chapter" data-level="9" data-path="section-2.html"><a href="section-2.html"><i class="fa fa-check"></i><b>9</b> </a></li>
<li class="chapter" data-level="10" data-path="r-child-5-webmain-rmd.html"><a href="r-child-5-webmain-rmd.html"><i class="fa fa-check"></i><b>10</b> <code>{r child = &quot;5-web/main.Rmd&quot;} #</code></a></li>
<li class="chapter" data-level="11" data-path="section-3.html"><a href="section-3.html"><i class="fa fa-check"></i><b>11</b> </a><ul>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#reproducibility-2"><i class="fa fa-check"></i>Reproducibility</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#quality-2"><i class="fa fa-check"></i>Quality</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#efficiency-1"><i class="fa fa-check"></i>Efficiency</a></li>
<li class="chapter" data-level="11.1" data-path="section-3.html"><a href="section-3.html#r-1"><i class="fa fa-check"></i><b>11.1</b> R</a><ul>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#introduction-5"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#data-management-1"><i class="fa fa-check"></i>Data Management</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#modeling"><i class="fa fa-check"></i>Modeling</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#visualization"><i class="fa fa-check"></i>Visualization</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#web"><i class="fa fa-check"></i>Web</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#reproducibility-3"><i class="fa fa-check"></i>Reproducibility</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#quality-3"><i class="fa fa-check"></i>Quality</a></li>
<li class="chapter" data-level="" data-path="section-3.html"><a href="section-3.html#efficiency-2"><i class="fa fa-check"></i>Efficiency</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i>Appendix</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#technical-terminology"><i class="fa fa-check"></i>Technical Terminology</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#resources-1"><i class="fa fa-check"></i>Resources</a><ul>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#r-2"><i class="fa fa-check"></i>R</a></li>
<li class="chapter" data-level="" data-path="appendix.html"><a href="appendix.html#python-2"><i class="fa fa-check"></i>Python</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-3" class="section level1">
<h1><span class="header-section-number">11</span> </h1>
<div id="reproducibility-2" class="section level3 unnumbered">
<h3>Reproducibility</h3>
</div>
<div id="quality-2" class="section level3 unnumbered">
<h3>Quality</h3>
</div>
<div id="efficiency-1" class="section level3 unnumbered">
<h3>Efficiency</h3>
</div>
<div id="r-1" class="section level2">
<h2><span class="header-section-number">11.1</span> R</h2>
<div id="introduction-5" class="section level3 unnumbered">
<h3>Introduction</h3>
<p>R is used primarily for data cleaning and modeling. R is also used to build simple applications and html files using Rmarkdown, Rshiny and Rshiny dashboards. R can also be used with for Bayesian analyses.</p>
<div id="installation-1" class="section level4 unnumbered">
<h4>Installation</h4>
<ol style="list-style-type: decimal">
<li><a href="https://cran.cnr.berkeley.edu/bin/windows/base/old/3.5.2">Download R 3.5.2</a></li>
<li><a href="https://www.rstudio.com/products/rstudio/download/#download">Download Rstudio</a><a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a></li>
<li><a href="https://cran.r-project.org/bin/windows/Rtools/Rtools35.exe">Download Rtools35</a></li>
</ol>
</div>
<div id="package-repository" class="section level4 unnumbered">
<h4>Package Repository</h4>
<p>R’s main package repository is CRAN</p>
</div>
<div id="cran" class="section level4 unnumbered">
<h4>CRAN</h4>
<p>CRAN (the Comprehensive R Archive Network) is a “network of ftp and web servers around the world that store identical, up-to-date, versions of code and documentation for R.” Every package installed from CRAN has met the CRAN Repository Policy, been accepted into CRAN, and is currently housed there. Once a package is on CRAN, it is freely available for anyone in the world to install and use.</p>
</div>
<div id="initial-workflow" class="section level4 unnumbered">
<h4>Initial Workflow</h4>
<p>Follow these initial first steps to set-up your R-project.</p>
<div id="start-a-new-project" class="section level5 unnumbered">
<h5>Start a new project</h5>
<p>Start a new project or package. Hadley shows how to do this <a href="https://r4ds.had.co.nz/workflow-projects.html#rstudio-projects">here</a> in section 8.4 RStudio projects.</p>
<p>The main reason to use an R project is to help keep things organized. Programmers can set-up functionalities that are specific to that project, but not others. One example is that a programmer can set-up certain packages to always be loaded for that project.</p>
<p>Using R Projects also allows programmers to use relative paths.</p>
</div>
<div id="initiate-the-project-with-packrat" class="section level5 unnumbered">
<h5>Initiate the project with packrat</h5>
<p>Packrat is a package manager for R. E.g. <code>packrat::init(infer.dependencies = FALSE)</code>. This will create a packrat folder in the project directory</p>
</div>
<div id="create-foldersfiles" class="section level5 unnumbered">
<h5>Create folders/files</h5>
<div id="r-projects" class="section level6 unnumbered">
<h6>R Projects</h6>
<table>
<thead>
<tr class="header">
<th></th>
<th>Create Folders</th>
<th>Create Files</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>R projects</td>
<td>R/, tests/</td>
<td>.gitignore, config.yaml, README.md</td>
</tr>
<tr class="even">
<td>R packages</td>
<td>tests/</td>
<td>.gitignore, LICENSE, README.md</td>
</tr>
</tbody>
</table>
<p>Make a folder: <code>mkdir R</code></p>
<p>Make a file: <code>echo &gt; config.yaml</code></p>
</div>
</div>
<div id="install-packages" class="section level5 unnumbered">
<h5>Install packages</h5>
<p>Packages will be installed into the project’s library not the global R package library, so for each project the packages will be re-install the packages. This done intentionally, so that different packages may depend on different versions of a package.</p>
<p>Install these packages:</p>
<ul>
<li>devtools</li>
<li>assertthat</li>
<li>testthat</li>
</ul>
<p>Suggested install:</p>
<ul>
<li>tidyverse</li>
<li>roxygen2</li>
<li>formatR</li>
</ul>
</div>
<div id="set-up-the-testing-space" class="section level5 unnumbered">
<h5>Set-up the testing space</h5>
<p>Run <code>use_this::use_testthat()</code> to set-up the testing space</p>
</div>
</div>
<div id="version-control-files" class="section level4 unnumbered">
<h4>Version control files</h4>
<ul>
<li>.gitignore</li>
<li>.Rprofile</li>
<li>config.yaml</li>
<li>README.md</li>
<li>XXX.Rproj</li>
</ul>
<p>packrat/</p>
<ul>
<li>init.R</li>
<li>packrat.lock</li>
<li>packrat.opts</li>
<li>src</li>
</ul>
<p>R/</p>
<p>tests/</p>
<p>If applicable:</p>
<ul>
<li>DESCRIPTION</li>
<li>LICENSE</li>
<li>NAMESPACE</li>
<li>.Rbuildignore</li>
<li>man/</li>
</ul>
<div id="folder-structure" class="section level5 unnumbered">
<h5>Folder structure</h5>
<p>At this point the folder structure should look like this:</p>
<pre><code>project_dir/
    packrat/
    R/
    tests/
    .gitignore
    .Rprofile
    config.yaml
    README.md
    XXX.Rproj</code></pre>
</div>
</div>
<div id="style-guide" class="section level4 unnumbered">
<h4>Style Guide</h4>
<div id="general-rules" class="section level5 unnumbered">
<h5>General Rules</h5>
<ul>
<li>Variable names and function names should be lowercase or camel case (be consistent)</li>
<li>Avoid using names of existing functions/variables</li>
</ul>
</div>
<div id="spacing" class="section level5 unnumbered">
<h5>Spacing</h5>
<ul>
<li>Put spaces around all infix operators (=, +, -, &lt;-, etc.)</li>
<li>ALWAYS put a space after a comma, and never before</li>
<li>Put a space before left parentheses, except in a function call</li>
</ul>
</div>
<div id="curly-braces" class="section level5 unnumbered">
<h5>Curly Braces</h5>
<ul>
<li>Opening curly brace <code>{</code> NEVER goes on its own line, but should always be followed by a new line</li>
<li>ALWAYS indent code inside curly braces</li>
<li>Closing curly brace <code>}</code> always goes on its own line, unless followed by an <code>else</code></li>
</ul>
</div>
<div id="line-length" class="section level5 unnumbered">
<h5>Line Length</h5>
<ul>
<li>Roughly 80 - 90 characters per line</li>
</ul>
</div>
<div id="indentation" class="section level5 unnumbered">
<h5>Indentation</h5>
<ul>
<li>ALWAYS use two spaces</li>
<li>NEVER mix tabs/spaces</li>
</ul>
</div>
<div id="assignment" class="section level5 unnumbered">
<h5>Assignment</h5>
<ul>
<li>ALWAYS <code>&lt;-</code> not <code>=</code></li>
</ul>
</div>
<div id="comments" class="section level5 unnumbered">
<h5>Comments</h5>
<ul>
<li>Comments should begin with <code>#</code></li>
<li>Comments should explain the why not the what</li>
<li>Comments that are too lengthy indicate a function should probably be used to break up the code chunk</li>
</ul>
</div>
<div id="other-style-guides" class="section level5 unnumbered">
<h5>Other Style Guides</h5>
<ul>
<li><a href="https://google.github.io/styleguide/Rguide.xml">Google’s style guide</a></li>
</ul>
</div>
</div>
<div id="styling-packages" class="section level4 unnumbered">
<h4>Styling Packages</h4>
<div id="formatr" class="section level5 unnumbered">
<h5>formatR</h5>
<p>Automatically formats and spaces code for more human-readability.</p>
<pre><code>library(formatR)
formatR::tidy_dir(&quot;R&quot;)</code></pre>
</div>
<div id="styler" class="section level5 unnumbered">
<h5>styler</h5>
<p>Goal is to provide non-invasive pretty-printing of R source code while adhering to the tidyverse formatting rules.</p>
<pre><code>library(styler)
ugly_code &lt;- &quot;a=function( x){1+1}
style_text(ugly_code)

# style_file()
# style_dir()
# style_pkg()</code></pre>
</div>
<div id="lintr" class="section level5 unnumbered">
<h5>lintr</h5>
<p>Warns you about styling errors and potential problems.</p>
<pre><code>library(lintr)
lintr::lint(test.R)</code></pre>
</div>
</div>
<div id="debugging" class="section level4 unnumbered">
<h4>Debugging</h4>
<p>R offers a number of useful built-in functions for debugging, and user-contributed packages are also available to provide additional functionality. The simplest method is to insert commands into your code to print diagnostic“check points” during its execution, using functions such as <code>cat()</code>, <code>print()</code>, or <code>sink()</code>.</p>
<p>R also has a more sophisticated debugging system, which is supported by a GUI in the RStudio IDE. The most direct way to mark a function for debugging is to use <code>debug(functionname)</code>. When this function is called, normal execution will be suspended, and you will enter the <code>browser</code> display. Commands within the debugged function can then be executed one at a time, and output can be inspected by the programmer along the way. You can set a function to begin debugging partway through its execution with <code>setBreakpoint()</code> or <code>trace()</code>. If an error is encountered (whether or not the function was being debugged), the <code>traceback()</code> command can be used to view the stack of nestedfunction calls at the time of the most recent error.</p>
<p>We illustrate debugging in RStudio with the following example. Suppose we want to debug the <code>lm()</code> function to see how it works inside:</p>
<pre><code>debug(lm)                          # mark lm() for debugging
lm(speed ~ dist(data=cars))</code></pre>
<p>A few things happen when you execute the debugged <code>lm()</code> function:</p>
<ol style="list-style-type: decimal">
<li>In the <strong>Source</strong> pane, a window called the <strong>Source Viewer</strong> opens. This contains the code of <code>lm()</code>.</li>
<li>At the bottom of the <strong>Environment</strong> pane, the current stack of function calls is listed under <strong>Traceback</strong>.</li>
<li>The console enters <strong>Browser</strong> mode. In browser mode, a set of buttons appears along the top of the console (including <strong>Next</strong>, <strong>Continue</strong>, <strong>Stop</strong>, and two arrow buttons), and the console prompt becomes <code>Browse[2]&gt;</code>.</li>
</ol>
<p>The current location in <code>lm()</code> is indicated by the green arrow on the left side of the Source Viewer. In the above figure, the green arrow is on line 4, after the function declaration, but before any of the commands within the function have been executed. This means that all the variables that were entered (or defaulted) in the function call are available. We can enter commands at the command prompt as usual, and they will be executed in the environment of the function:</p>
<p>The commands of the <code>lm()</code> function are executed by clicking the button, by typing <code>n</code>+Enter, or by pressing Enter in the console. Any of these actions will execute the next command in the <code>lm()</code> code, and advance the green arrow in the Source Viewer to the next command. The other control options are:</p>
<p>At any point in executing the <code>lm()</code> code, you can run your own commands to look at the contents of an object created within <code>lm()</code>, for example, or check objects for errors. When you are finished debugging, exit debugging mode and then run <code>undebug(lm)</code>, so the function can be used normally without debugging.</p>
<p>More information on debugging in RStudio can be found <a href="https://support.rstudio.com/hc/en-us/articles/205612627-Debugging-with-RStudio">here</a>, or in the chapter on <a href="http://adv-r.had.co.nz/Exceptions-Debugging.html">debugging</a> in the Advanced R book. External packages such as <code>debug</code> and <code>edtdbg</code> contain alternative debugging interfaces, which are not described here.</p>
</div>
</div>
<div id="data-management-1" class="section level3 unnumbered">
<h3>Data Management</h3>
<div id="packages" class="section level4 unnumbered">
<h4>Packages</h4>
<table>
<thead>
<tr class="header">
<th>Package</th>
<th>Description and Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dplyr</td>
<td>Tools for manipulating data frame</td>
</tr>
<tr class="even">
<td>reshape2</td>
<td>Tools to reshape data frames</td>
</tr>
<tr class="odd">
<td>tidyr</td>
<td>Tools for creating “tidy” datasets</td>
</tr>
<tr class="even">
<td>data.table</td>
<td>Enhanced <code>data.frame</code> for faster operations</td>
</tr>
<tr class="odd">
<td>lubridate</td>
<td>Tools to parse and manipulate dates</td>
</tr>
<tr class="even">
<td>stringr</td>
<td>Tools to manipulate character strings</td>
</tr>
<tr class="odd">
<td>Matrix</td>
<td>Sparse and dense matrix classes</td>
</tr>
<tr class="even">
<td>abind</td>
<td>Combines multi-dimenstional arrays</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="modeling" class="section level3 unnumbered">
<h3>Modeling</h3>
<div id="packages-1" class="section level4">
<h4><span class="header-section-number">11.1.0.1</span> Packages</h4>
<table>
<thead>
<tr class="header">
<th>Package</th>
<th>Description and Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>survey</td>
<td>Analysis of complex survey samples</td>
</tr>
<tr class="even">
<td>twang</td>
<td>Toolkit for weighting and analysis of nonequivalent groups</td>
</tr>
<tr class="odd">
<td>Matching</td>
<td>Multivariate and propensity score matching with balance</td>
</tr>
<tr class="even">
<td>forecast</td>
<td>Forecasting functions for time series and linear models</td>
</tr>
<tr class="odd">
<td>boot</td>
<td>Functions for bootstrap analysis</td>
</tr>
<tr class="even">
<td>multcomp</td>
<td>Tools for multiple comparison testing</td>
</tr>
<tr class="odd">
<td>rstan</td>
<td>R interface to Stan for Bayesian analysis</td>
</tr>
<tr class="even">
<td>rjags</td>
<td>Just another Gibbs sampler in R</td>
</tr>
<tr class="odd">
<td>survival</td>
<td>Survival analysis</td>
</tr>
<tr class="even">
<td>nnet</td>
<td>Neural networks and multinomial log-linear models</td>
</tr>
<tr class="odd">
<td>lme4</td>
<td>Linear and non-linear mixed effects models</td>
</tr>
<tr class="even">
<td>nlme</td>
<td>Linear and non-linear mixed effects models</td>
</tr>
<tr class="odd">
<td>mgcv</td>
<td>Generalized additive models</td>
</tr>
<tr class="even">
<td>refund</td>
<td>Regression with functional data</td>
</tr>
<tr class="odd">
<td>spatial</td>
<td>Functions for kriging and point pattern analysis</td>
</tr>
<tr class="even">
<td>KernSmooth</td>
<td>Functions for kernel smoothing</td>
</tr>
<tr class="odd">
<td>lars</td>
<td>Least angle regression, lasso, and forward stagewise</td>
</tr>
<tr class="even">
<td>glmnet</td>
<td>Lasso and elastic-net regression methods</td>
</tr>
<tr class="odd">
<td>caret</td>
<td>Classification and regression training</td>
</tr>
<tr class="even">
<td>rpart</td>
<td>Recursive partitioning for classification and regression trees</td>
</tr>
<tr class="odd">
<td>randomForest</td>
<td>Random forest methods from machine learning</td>
</tr>
<tr class="even">
<td>cluster</td>
<td>Cluster analysis</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="visualization" class="section level3 unnumbered">
<h3>Visualization</h3>
</div>
<div id="web" class="section level3 unnumbered">
<h3>Web</h3>
</div>
<div id="reproducibility-3" class="section level3 unnumbered">
<h3>Reproducibility</h3>
<div id="config-files" class="section level4 unnumbered">
<h4>Config files</h4>
<div id="yaml-1" class="section level5 unnumbered">
<h5>YAML</h5>
<pre><code>## You can add comments to YAML!
VAR1: 1
VAR2: 2</code></pre>
<div id="read-in" class="section level6 unnumbered">
<h6>Read in</h6>
<pre><code>
library(yaml)
config &lt;- yaml.load_file(&quot;path_to_config&quot;)

var1 &lt;- config$VAR1
var2 &lt;- config$VAR2</code></pre>
<p>Note: to avoid warnings make sure the config file has a final line without any indents in it!</p>
</div>
<div id="update" class="section level6 unnumbered">
<h6>Update</h6>
<pre><code>library(yaml)

config$var3 &lt;- &quot;VAR3&quot;
write_yaml(config, &quot;../config.yaml&quot;)</code></pre>
<!-- ##### JSON {-} -->
<!-- ```json -->
<!-- { -->
<!-- "VAR1" = 1, -->
<!-- "VAR2" = 2 -->
<!-- } -->
<!-- ``` -->
<!-- ###### Read in {-} -->
<!-- ``` -->
<!-- library(json) -->
<!-- ``` -->
<!-- ###### Update {-} -->
<!-- ``` -->
<!-- ``` -->
</div>
</div>
<div id="csv-3" class="section level5 unnumbered">
<h5>CSV</h5>
<pre class="csv"><code>|VAR1 | VAR2|
|-----|-----|
|  1  |  2  |</code></pre>
<div id="read-in-1" class="section level6 unnumbered">
<h6>Read in</h6>
<pre><code>config &lt;- read.csv(&quot;path_to_config&quot;)

#OR

library(readr)

config &lt;- read_csv(&quot;path_to_config&quot;)

var1 &lt;- config$VAR1
var2 &lt;- config$VAR2
</code></pre>
</div>
<div id="update-1" class="section level6 unnumbered">
<h6>Update</h6>
<pre><code>config$var3 &lt;- &quot;VAR3&quot;
write.csv(config, &quot;path_to_config&quot;, row.names = FALSE)
</code></pre>
</div>
</div>
</div>
</div>
<div id="quality-3" class="section level3 unnumbered">
<h3>Quality</h3>
</div>
<div id="efficiency-2" class="section level3 unnumbered">
<h3>Efficiency</h3>
<!-- # Web -->
<!-- # Data Visualization -->
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Note: download R before downloading Rstudio<a href="section-3.html#fnref4">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-child-5-webmain-rmd.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
